<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Details</title>
</head>
<body>
    <h2>Student Details</h2>
    <form action="/" method="post">
        <input type="number" placeholder="Enter roll no."><br><br>
        <input type="text" placeholder="Enter name"><br><br>
        <select name="gender" id="">
            <option value="gender" selected disabled>Select gender</option>
            <option value="male">male</option>
            <option value="female">Female</option>
        </select>
        <br><br>
        <select id="stateSelect" name="state" required>
            <option value="" disabled selected>--- Select a State/UT ---</option>
        </select>
        <br><br>
        <select id="citySelect" name="city" required disabled>
            <option value="" disabled selected>--- Select a City ---</option>
        </select>
        <br><br> 
        
        <input type="number" placeholder="Enter pincode" required name="pincode">
        <br><br>
        <select name="course" id="" required>
            <option value="" selected disabled>Select Course</option>
            <%for(let i = 0; i < courses.length; i++){%>
                <%const {course_name} = courses[i]; %>
                <option value="<%=course_name%>"><%=course_name%></option>
            <%}%>
        </select>
        <br><br>
        <input type="number" placeholder="Enter contact number" name="contact_no">
        <br><br>
        <input type="date" placeholder="Admission date" name="addmission_date">
        <br><br>
        <textarea name="address" id="" placeholder="Enter complete address"></textarea>
        <br><br>
        <button type="submit">Add Student</button>
    </form>

    <script>
            const indiaData = {
                "Andhra Pradesh": ["Visakhapatnam", "Vijayawada", "Guntur", "Nellore"],
                "Arunachal Pradesh": ["Itanagar", "Naharlagun", "Tawang"],
                "Assam": ["Guwahati", "Dibrugarh", "Silchar", "Jorhat"],
                "Bihar": ["Patna", "Gaya", "Bhagalpur", "Muzaffarpur"],
                "Chhattisgarh": ["Raipur", "Bhilai", "Bilaspur", "Korba"],
                "Goa": ["Panaji", "Margao", "Vasco da Gama"],
                "Gujarat": ["Ahmedabad", "Surat", "Vadodara", "Rajkot"],
                "Haryana": ["Faridabad", "Gurgaon", "Panipat", "Ambala"],
                "Himachal Pradesh": ["Shimla", "Dharamshala", "Mandi", "Solan"],
                "Jharkhand": ["Ranchi", "Jamshedpur", "Dhanbad", "Bokaro"],
                "Karnataka": ["Bengaluru", "Mysore", "Hubli", "Mangalore"],
                "Kerala": ["Thiruvananthapuram", "Kochi", "Kozhikode", "Thrissur"],
                "Madhya Pradesh": ["Indore", "Bhopal", "Jabalpur", "Gwalior"],
                "Maharashtra": ["Mumbai", "Pune", "Nagpur", "Nashik"],
                "Manipur": ["Imphal", "Thoubal"],
                "Meghalaya": ["Shillong", "Tura"],
                "Mizoram": ["Aizawl", "Lunglei"],
                "Nagaland": ["Kohima", "Dimapur"],
                "Odisha": ["Bhubaneswar", "Cuttack", "Rourkela"],
                "Punjab": ["Ludhiana", "Amritsar", "Jalandhar", "Patiala"],
                "Rajasthan": ["Jaipur", "Jodhpur", "Udaipur", "Kota"],
                "Sikkim": ["Gangtok", "Namchi"],
                "Tamil Nadu": ["Chennai", "Coimbatore", "Madurai", "Tiruchirappalli"],
                "Telangana": ["Hyderabad", "Warangal", "Nizamabad"],
                "Tripura": ["Agartala", "Udaipur"],
                "Uttar Pradesh": ["Lucknow", "Kanpur", "Varanasi", "Agra"],
                "Uttarakhand": ["Dehradun", "Haridwar", "Rishikesh"],
                "West Bengal": ["Kolkata", "Howrah", "Durgapur", "Asansol"],

                // Union Territories (UTs)
                "Andaman and Nicobar Islands": ["Port Blair"],
                "Chandigarh": ["Chandigarh"],
                "Dadra and Nagar Haveli and Daman and Diu": ["Daman", "Silvassa"],
                "Delhi": ["New Delhi", "Old Delhi", "Noida (NCR)", "Gurgaon (NCR)"],
                "Jammu and Kashmir": ["Srinagar", "Jammu"],
                "Ladakh": ["Leh", "Kargil"],
                "Lakshadweep": ["Kavaratti"],
                "Puducherry": ["Puducherry", "Karaikal"]
            };
            const stateSelect = document.getElementById('stateSelect');
            const citySelect = document.getElementById('citySelect');

            // 2. Function to populate the State dropdown on page load
            function populateStates() {
                // Get all state names (the keys in the indiaData object)
                const states = Object.keys(indiaData);

                // Create an <optgroup> for States
                const statesGroup = document.createElement('optgroup');
                statesGroup.label = "States";

                // Create an <optgroup> for UTs
                const utGroup = document.createElement('optgroup');
                utGroup.label = "Union Territories";

                // List of Union Territories (to separate them from States)
                const uts = [
                    "Andaman and Nicobar Islands", "Chandigarh", "Dadra and Nagar Haveli and Daman and Diu",
                    "Delhi", "Jammu and Kashmir", "Ladakh", "Lakshadweep", "Puducherry"
                ];

                states.forEach(state => {
                    const option = document.createElement('option');
                    option.value = state;
                    option.textContent = state;

                    if (uts.includes(state)) {
                        utGroup.appendChild(option);
                    } else {
                        statesGroup.appendChild(option);
                    }
                });

                // Append the groups to the state select dropdown
                stateSelect.appendChild(statesGroup);
                stateSelect.appendChild(utGroup);
            }

            // 3. Function to update the City dropdown
            function updateCities() {
                // Clear existing options in the city dropdown
                citySelect.innerHTML = '<option value="" disabled selected>--- Select a City ---</option>';

                // Get the selected state
                const selectedState = stateSelect.value;

                if (selectedState) {
                    // Enable the city dropdown
                    citySelect.disabled = false;
                    
                    // Get the array of cities for the selected state
                    const cities = indiaData[selectedState] || []; 

                    // Add new options for the cities
                    cities.forEach(city => {
                        const option = document.createElement('option');
                        option.value = city;
                        option.textContent = city;
                        citySelect.appendChild(option);
                    });
                } else {
                    // If no state is selected, disable the city dropdown
                    citySelect.disabled = true;
                }
            }

            // 4. Attach event listeners
        window.onload = populateStates; // Run this function when the page loads
        stateSelect.addEventListener('change', updateCities); // Run this function whenever the state changes
    </script>
</body>
</html>